import{a as r}from"./QBtn.366e7576.js";import{f as R,g as q,h as j,i as E,e as h,j as X,Q as F,d as N,k as Q,l as Y,C}from"./gameSession.8fb0c52e.js";import{x as Z,r as g,c as k,j as I,o as J,m as K,q as y,U as z,u as t,t as s,S as d,Z as B,z as a,Y as n,R as i,X as c,s as x,y as b,V as O,$ as W}from"./index.5d8840f5.js";import"./dom.540daa1c.js";import"./QResizeObserver.1f68ca75.js";const D={key:0,class:"column justify-around",style:{height:"90vh"}},ee={class:"row justify-center"},le=["innerHTML"],te={key:1,class:"text-center text-h6 text-uppercase"},ae=i("br",null,null,-1),se=i("br",null,null,-1),oe=["innerHTML"],ne={class:"row justify-evenly q-gutter-y-lg"},ue={class:"text-subtitle1"},re=i("div",{class:"text-body1"},[d("The remaining cards will "),i("b",null,"not be available"),d(".")],-1),de={class:"text-subtitle1"},ie=i("div",{class:"text-body1"},[d("The remaining cards will "),i("b",null,"not be available"),d(".")],-1),ye=i("div",{class:"text-subtitle1"},"Do you wish to end this game session?",-1),xe=Z({__name:"GamePage",setup(ve){var L,P;const U=Y(),S=W(),e=R(),v=g(!1),V=g(!1);g(!1);const w=g(!1),p=g(!1),A=k(()=>{var o,l;return(l=(o=e==null?void 0:e.activeCard)==null?void 0:o.text)!=null?l:""}),_=k(()=>{var o,l;return(l=(o=e==null?void 0:e.levelCards)==null?void 0:o.length)!=null?l:0}),f=k(()=>{var o,l;return{backgroundColor:(o=e==null?void 0:e.deckColors)==null?void 0:o.primary,color:(l=e==null?void 0:e.deckColors)==null?void 0:l.textColor}}),G=k(()=>{var o,l;return{backgroundColor:(o=e==null?void 0:e.activeCard)==null?void 0:o.bgColor,color:(l=e==null?void 0:e.activeCard)==null?void 0:l.textColor}}),m=I({color:(P=(L=e.deckColors)==null?void 0:L.secondary)!=null?P:"var(--q-primary)"});J(()=>{$()});function H(){e.drawCard()}function $(){e==null&&S.push("/"),e.isValid?e.nextPhase():S.push("/")}function M(){v.value=!1,e.setupSessionDeck(),e.nextPhase()}return(o,l)=>{const T=K("spam");return y(),z(O,null,[t(E,{elevated:"",style:n(a(f))},{default:s(()=>[t(q,null,{default:s(()=>[t(r,{icon:"chevron_left",flat:"",round:"",dense:"",onClick:l[0]||(l[0]=u=>p.value=!0)}),t(j,{class:"text-center"},{default:s(()=>[d(B(a(e).levelText),1)]),_:1})]),_:1})]),_:1},8,["style"]),a(e).isValid?(y(),z("div",D,[i("div",ee,[t(h,{class:"column justify-around game-card",style:n(a(G))},{default:s(()=>[v.value?c("",!0):(y(),z("div",{key:0,class:"text-center text-h6 text-uppercase",innerHTML:a(A)},null,8,le)),v.value?(y(),z("div",te,[d("Final Card "),ae,d(),se,i("div",{innerHTML:a(e).finalCard},null,8,oe)])):c("",!0)]),_:1},8,["style"])]),i("div",ne,[a(_)>1&&!v.value?(y(),x(r,{key:0,style:n(a(f)),size:o.buttonSize,label:"Next Card",onClick:H},null,8,["style","size"])):c("",!0),a(_)<2?(y(),x(r,{key:1,style:n(a(f)),size:o.buttonSize,label:"No Cards",disabled:""},null,8,["style","size"])):c("",!0),a(e).hasNextLevel?(y(),x(r,{key:2,style:n(a(f)),size:o.buttonSize,label:"Next Level",disabled:a(e).cardsUtilized<15&&a(_)>1,onClick:l[1]||(l[1]=u=>V.value=!0)},null,8,["style","size","disabled"])):c("",!0),!a(e).hasNextLevel&&!v.value&&a(e).hasFinalCard?(y(),x(r,{key:3,style:n(a(f)),size:o.buttonSize,label:"Final Card",disabled:a(e).cardsUtilized<15&&a(_)>1||v.value,onClick:l[2]||(l[2]=u=>w.value=!0)},null,8,["style","size","disabled"])):c("",!0),v.value||a(_)<2&&!a(e).hasNextLevel&&!a(e).hasFinalCard?(y(),x(r,{key:4,style:n(a(f)),size:o.buttonSize,label:"Finish Game",onClick:l[3]||(l[3]=u=>p.value=!0)},null,8,["style","size"])):c("",!0)])])):c("",!0),a(U).screen.lt.md&&!v.value?(y(),x(X,{key:1,elevated:"",style:n(a(f))},{default:s(()=>[t(q,null,{default:s(()=>[t(j,{class:"text-center"},{default:s(()=>[t(r,{flat:"","no-caps":"",label:"Finsh Game",onClick:l[4]||(l[4]=u=>p.value=!0)})]),_:1})]),_:1})]),_:1},8,["style"])):c("",!0),t(Q,{modelValue:V.value,"onUpdate:modelValue":l[6]||(l[6]=u=>V.value=u)},{default:s(()=>[t(h,null,{default:s(()=>[t(F,{class:"q-gutter-y-md text-center"},{default:s(()=>[i("div",ue,[d("Are you sure you wish to proceed to \xA0"),t(T,{class:"text-bold"},{default:s(()=>[d(B(a(e).nextLevelText),1)]),_:1}),t(T,null,{default:s(()=>[d("?")]),_:1})]),re]),_:1}),t(N,{align:"around"},{default:s(()=>[b(t(r,{style:n(m),flat:"",label:"Cancel"},null,8,["style"]),[[C]]),b(t(r,{style:n(m),flat:"",label:"Proceed",onClick:l[5]||(l[5]=u=>$())},null,8,["style"]),[[C]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Q,{modelValue:w.value,"onUpdate:modelValue":l[8]||(l[8]=u=>w.value=u)},{default:s(()=>[t(h,null,{default:s(()=>[t(F,{class:"q-gutter-y-md text-center"},{default:s(()=>[i("div",de,[d("Are you sure you wish to proceed to "),t(T,{class:"text-bold text-underline"},{default:s(()=>[d("The Final Card")]),_:1}),d(" ?")]),ie]),_:1}),t(N,{align:"around"},{default:s(()=>[b(t(r,{style:n(m),flat:"",label:"Cancel"},null,8,["style"]),[[C]]),b(t(r,{style:n(m),flat:"",label:"Proceed",onClick:l[7]||(l[7]=u=>v.value=!0)},null,8,["style"]),[[C]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Q,{modelValue:p.value,"onUpdate:modelValue":l[11]||(l[11]=u=>p.value=u)},{default:s(()=>[t(h,null,{default:s(()=>[t(F,{class:"q-gutter-y-md text-center"},{default:s(()=>[ye]),_:1}),t(N,{align:"around"},{default:s(()=>[b(t(r,{style:n(m),flat:"",label:"Cancel"},null,8,["style"]),[[C]]),b(t(r,{style:n(m),flat:"",label:"Restart",onClick:l[9]||(l[9]=u=>M())},null,8,["style"]),[[C]]),b(t(r,{style:n(m),flat:"",label:"Deck Select",onClick:l[10]||(l[10]=u=>a(S).push("/"))},null,8,["style"]),[[C]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{xe as default};
